{{ 'styles-product-item-nvy.css' | asset_url | stylesheet_tag }}

<div class="product-block-nvy__container product-block-nvy__container--{{ section.id }}">

  <h3 class="heading">{{ section.settings.heading }}</h3>

  <div class="product-block-nvy--slider">
    <button class="btn-product-prev--{{ section.id }} slick-button-custom slick-button-custom--prev">{% render 'icon-preview-arrow' %}</button>
    <div class="slider-product--{{ section.id }}">
      {% for block in section.blocks %}
        <div class="product product--{{ forloop.index }}">
          <a href="{{ block.settings.link }}">
            <p class="product-name">{{ block.settings.product_name }}</p>
            <div class="product-imagen"><img loading="lazy" src="{{ block.settings.imagen | img_url: 'master' }}"></div>
            <span class="button btn">{{ block.settings.button }}</span>
          </a>
        </div>
      {% endfor %}
    </div>
    <button class="btn-product-next--{{ section.id }} slick-button-custom slick-button-custom--next">{% render 'icon-next-arrow' %}</button>
  </div>
  
</div>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script>
  
(function($) {
  $(document).ready(function() {
    var container = $('.product-block-nvy__container--{{ section.id }}');
    container.find('.slider-product--{{ section.id }}').slick({
      slidesToShow: 4,
      slidesToScroll: 1,
      infinite: true,
      autoplay: true,
      autoplaySpeed: 5000,
      prevArrow: container.find('.btn-product-prev--{{ section.id }}'),
      nextArrow: container.find('.btn-product-next--{{ section.id }}'),
      dots: false,
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
            dots: true
          }
        },
        {
          breakpoint: 990,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1,
            dots: true
          }
        },
        {
          breakpoint: 600,
          settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
              dots: true
          }
        }
      ]
    });
  });
  })(jQuery);
</script>



{% schema %}
  {
    "name": "Product Block NVY",
    "class": "product-block-nvy",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      }
    ],
    "blocks": [
      {
        "name": "Product",
        "type": "product",
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          },
          {
            "type": "image_picker",
            "id": "imagen",
            "label": "Imagen"
          },
          {
            "type": "text",
            "id": "product_name",
            "label": "Product Name"
          },
          {
            "type": "text",
            "id": "button",
            "label": "Button"
          }
        ]
      }
  	],
  	"presets": [
      {
        "name": "Product Item NVY",
        "category": "Custom"
      }
    ]
  }
{% endschema %}